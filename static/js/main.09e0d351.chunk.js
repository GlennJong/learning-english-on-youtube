(this["webpackJsonpyoutube-anchor"]=this["webpackJsonpyoutube-anchor"]||[]).push([[0],{59:function(n,t,e){},93:function(n,t,e){"use strict";e.r(t);var c,r,a=e(0),i=e.n(a),o=e(23),s=e.n(o),l=e(8),d=e(13),u=(e(59),e(4)),b=e(3),j=e(2),p={primary:"hsl(348, 88%, 65%)",secondary:"hsl(340, 83%, 65%)",thirdary:"hsl(334, 77%, 65%)",pureBlack:"#000",black:{dark:"hsl(246, 19%, 22%)",normal:"hsl(248, 17%, 25%)",light:"hsl(248, 15%, 28%)"},pureWhite:"#FFF",white:{dark:"hsl(204, 86%, 85%)",normal:"hsl(204, 86%, 92%)"},gray:{normal:"hsl(237, 10%, 63%)"}},f={background:"linear-gradient(0deg, ".concat(p.black.dark," 0%, ").concat(p.black.normal," 100%)"),primary:"linear-gradient(45deg, ".concat(p.primary," 0%, ").concat(p.secondary," 50%, ").concat(p.thirdary," 100%)"),blue:Object(j.b)(c||(c=Object(b.a)(["\n    background-color: #0093E9;\n    background-image: linear-gradient(to top, #30cfd0 0%, #330867 100%);\n  "])))},h="'Pingfang TC', '\u5fae\u8edf\u6b63\u9ed1\u9ad4', 'Microsoft JhengHei', sans-serif",O=Object(j.a)(r||(r=Object(b.a)(["\n    body {\n        margin: 0;\n        font-family: ",";\n        font-weight: 400;\n        font-size: 16px;\n        background: ",";\n        background-size: 100% 100%;\n        width: 100vw;\n        height: 100vh;\n    }\n    #app {\n        display: flex;\n        flex-direction: column;\n    }\n    ul {\n        padding-inline-start: 0;\n        margin-block-start: 0;\n        margin-block-end: 0;\n        list-style-type: none;\n    }\n    a {\n        text-decoration: none;\n        cursor: pointer;\n        color: currentColor;\n    }\n    button {\n        outline: none;\n        cursor: pointer;\n    }\n    dd {\n        margin-inline-start: 0;\n    }\n\n    h1, h2, h3, h4, p {\n        margin: 0;\n        padding: 0;\n    }\n\n    input, textarea, select, button, a {\n        font-family: ",";\n        font-weight: 400;\n        font-size: 14px;\n    }\n"])),h,f.background,h),x=e(40),g=e.n(x),m=e(18);var v=window.localStorage.getItem("translatorKey")||null,y=window.localStorage.getItem("youtubeKey")||null;window.history.replaceState({},document.title,window.location.origin);var w,k,z,T,C,S=Object(m.a)({name:"configData",initialState:{translatorKey:v,youtubeKey:y},reducers:{updateTranslatorKey:function(n,t){var e;n.translatorKey=t.payload,e=t.payload,localStorage.setItem("translatorKey",e)},updateYoutubeKey:function(n,t){var e;n.youtubeKey=t.payload,e=t.payload,localStorage.setItem("youtubeKey",e)}}}),D=e(1),R=function(){var n=Object(l.c)((function(n){return n.configData})),t=n.translatorKey,e=n.youtubeKey,c=Object(l.b)(S);return Object(a.useEffect)((function(){var n,r=g.a.parse(window.location.search);r.azure&&r.azure!==t&&(n=r.azure,console.log(n),c(S.actions.updateTranslatorKey(n))),r.youtube&&r.youtube!==e&&function(n){c(S.actions.updateYoutubeKey(n))}(r.youtube)}),[]),Object(D.jsx)(D.Fragment,{})},N=e(96),I=Object(j.d)(w||(w=Object(b.a)(["\n  0% { transform: scale(1) }\n  30% { transform: scale(0.9) }\n  80% { transform: scale(0.9) }\n  90% { transform: scale(1.1) }\n  100% { transform: scale(1.1) }\n"]))),P=j.c.div(k||(k=Object(b.a)(["\n  display: none;\n  position: fixed;\n  top: 0;\n  left: 0;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100%;\n  background: ",";\n  z-index: 99;\n  ",";\n"])),f.background,(function(n){return n.show&&Object(j.b)(z||(z=Object(b.a)(["display: flex"])))})),E=j.c.div(T||(T=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 500px;\n  min-height: 200px;\n  background: ",";\n  box-sizing: border-box;\n  > .icon {\n    animation: "," 1s ease infinite;\n  }\n"])),p.black.light,I),K=j.c.div(C||(C=Object(b.a)(["\n  margin-top: 12px;\n  color: ",";\n  font-size: 18px;\n"])),p.white.normal),F=function(){var n=Object(a.useState)(!1),t=Object(u.a)(n,2),e=t[0],c=t[1];function r(){var n=window.innerWidth>1025;c(n)}return Object(a.useEffect)((function(){r(),window.addEventListener("resize",r)}),[]),Object(D.jsx)(P,{show:e,children:Object(D.jsxs)(E,{children:[Object(D.jsx)(N.a,{className:"icon",color:p.white.normal,size:48}),Object(D.jsx)(K,{children:"\u8acb\u4f7f\u7528\u624b\u6a5f\u88dd\u7f6e\u9ad4\u9a57"})]})})},B=e(25);function L(n){localStorage.setItem("guideStatus",JSON.stringify(n))}var V=window.localStorage.getItem("guideStatus")||null;V=V?JSON.parse(V):"show";var M,Y,H,J,W,_,A,U,G,X,q=Object(m.a)({name:"guideStatus",initialState:{show:"show"===V},reducers:{hideGuide:function(n){n.show=!1,L("hide")},showGuide:function(n){n.show=!0,L("show")}}}),Q={playerVars:{autoplay:0,playsinline:1,fs:0}},Z=Object(j.d)(M||(M=Object(b.a)(["\n  0% { transform: scale(1) }\n  30% { transform: scale(0.9) }\n  80% { transform: scale(0.9) }\n  90% { transform: scale(1.1) }\n  100% { transform: scale(1.1) }\n"]))),$=j.c.div(Y||(Y=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 98;\n  -webkit-backdrop-filter: blur(10px);\n  backdrop-filter: blur(10px);\n  transition: all .3s ease .6s;\n  ","\n  ",'\n  &:before {\n    content: "";\n    position: absolute;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n    background: ',";\n    opacity: 0.5;\n    z-index: -1;\n  }\n"])),(function(n){return n.hide&&Object(j.b)(H||(H=Object(b.a)([" display: none;"])))}),(function(n){return n.moveOut&&Object(j.b)(J||(J=Object(b.a)(["\n    opacity: 0;\n  "])))}),p.black.dark),nn=j.c.div(W||(W=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  padding: 24px 24px;\n  width: 90%;\n  background: ",";\n  box-sizing: border-box;\n  transition: all .6s cubic-bezier(.67,-0.51,.35,1);\n  ","\n  > .icon {\n    animation: "," 1s ease infinite;\n  }\n"])),p.black.light,(function(n){return n.moveOut&&Object(j.b)(_||(_=Object(b.a)(["\n    transform: translateY(100%);\n    opacity: 0;\n  "])))}),Z),tn=j.c.div(A||(A=Object(b.a)(["\n  margin-bottom: 12px;\n  color: ",";\n  font-size: 24px;\n  font-weight: 600;\n"])),p.white.normal),en=j.c.div(U||(U=Object(b.a)(["\n  width: 90%;\n"]))),cn=j.c.div(G||(G=Object(b.a)(["\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-bottom: 200%;\n  .player {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    iframe {\n      width: 100% !important;\n      height: 100% !important;\n    }\n  }\n"]))),rn=j.c.button(X||(X=Object(b.a)(["\n  margin-top: 24px;\n  border: 0;\n  border-radius: 6px;\n  padding: 10px 16px;\n  background: ",";\n  color: ",";\n  font-weight: 600;\n  font-size: 16px;\n"])),p.primary,p.white.normal),an=function(){var n=Object(l.c)((function(n){return n.guideStatus})).show,t=Object(l.b)(q),e=Object(a.useState)(!n),c=Object(u.a)(e,2),r=c[0],i=c[1],o=Object(a.useState)(!1),s=Object(u.a)(o,2),d=s[0],b=s[1];return Object(D.jsx)($,{hide:r,moveOut:d,children:Object(D.jsxs)(nn,{moveOut:d,children:[Object(D.jsx)(tn,{children:"How to use"}),Object(D.jsx)(en,{children:Object(D.jsx)(cn,{children:Object(D.jsx)(B.a,{className:"player",videoId:"iKp43tXsKmc",opts:Q})})}),Object(D.jsx)(rn,{onClick:function(){b(!0),setTimeout((function(){i(!0),t(q.actions.hideGuide())}),1e3)},children:"Got it"})]})})},on=function(n){var t=n.children;return Object(D.jsx)("div",{children:t})},sn=e(9),ln=e.n(sn),dn=e(16);function un(n){var t=(new DOMParser).parseFromString(n,"text/xml"),e=[];function c(n){if(n.getAttribute("lang_code").includes("en"))return n.getAttribute("lang_code")}try{if(t.getElementsByTagName("transcript_list").length>0)for(var r=0;r<t.getElementsByTagName("transcript_list")[0].childNodes.length;r++){var a=c(t.getElementsByTagName("transcript_list")[0].childNodes[r]);a&&e.push(a)}else for(r=0;r<n.getElementsByTagName("transcript_list")[0].childNodes.length;r++){var i=c(n.getElementsByTagName("transcript_list")[0].childNodes[r]);i&&e.push(i)}return e}catch(o){return null}}function bn(n){var t=(new DOMParser).parseFromString(n,"text/xml"),e=[];function c(n){var t={nbsp:" ",amp:"&",quot:'"',lt:"<",gt:">"};return n.replace(/&(nbsp|amp|quot|lt|gt);/g,(function(n,e){return t[e]})).replace(/&#(\d+);/gi,(function(n,t){var e=parseInt(t,10);return String.fromCharCode(e)}))}function r(n){return{start:n.getAttribute("start"),dur:n.getAttribute("dur"),content:c(n.innerHTML)}}try{if(t.getElementsByTagName("transcript").length>0)for(var a=0;a<t.getElementsByTagName("transcript")[0].childNodes.length;a++){var i=r(t.getElementsByTagName("transcript")[0].childNodes[a]);e.push(i)}else for(a=0;a<n.getElementsByTagName("transcript")[0].childNodes.length;a++){var o=r(n.getElementsByTagName("transcript")[0].childNodes[a]);e.push(o)}return e}catch(s){alert("Oops, something went wrong.")}}function jn(n,t){var e="https://video.google.com/timedtext?type=track&lang=".concat(t,"&v=").concat(n,"&id=0");return new Promise((function(n,t){fetch(e,{method:"POST"}).then((function(t){return n(t.text())})).catch(t)}))}function pn(n){if(n){var t="https://video.google.com/timedtext?type=list&v=".concat(n);return new Promise((function(n,e){fetch(t,{method:"POST"}).then((function(t){200===t.status&&n(t.text())})).catch((function(n){console.log(n),e(null)}))}))}}function fn(n){return hn.apply(this,arguments)}function hn(){return(hn=Object(dn.a)(ln.a.mark((function n(t){var e,c,r;return ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,pn(t);case 2:return c=n.sent,r=un(c),e=!(!r||0===r.length),n.abrupt("return",e);case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}for(var On,xn,gn,mn,vn,yn,wn,kn,zn,Tn=e(7),Cn=e(12),Sn=j.c.button(On||(On=Object(b.a)(['\n  position: relative;\n  border: 0;\n  background: transparent;\n  padding: 3px 0px;\n  height: 100%;\n  cursor: pointer;\n  transition: transform .15s cubic-bezier(.69,-0.39,.39,2.06);\n  &:before {\n    content: "";\n    position: absolute;\n    top: 0;\n    left: -4px;\n    border-radius: 4px;\n    width: calc(100% + 8px);\n    height: 100%;\n    box-shadow: 2px 2px 3px hsla(0, 0%, 0%, .5);\n    background: ',";\n    opacity: 0;\n    z-index: -1;\n  }\n  ","\n"])),p.black.normal,(function(n){return n.active&&Object(j.b)(xn||(xn=Object(b.a)(["\n    color: #FFF;\n    transform: scale(1.05);\n    z-index: 1;\n    &:before { opacity: 1; }\n  "])))})),Dn=function(n){var t=n.onClick,e=void 0===t?null:t,c=n.children,r=Object(Cn.a)(n,["onClick","children"]),i=Object(a.useState)(!1),o=Object(u.a)(i,2),s=o[0],l=o[1];return Object(D.jsx)(Sn,Object(Tn.a)(Object(Tn.a)({active:s,onClick:function(n){l(!s),e&&e({event:n,active:!s})}},r),{},{children:c}))},Rn=Object(a.forwardRef)((function(n,t){var e=n.children,c=Object(a.useRef)(null);function r(){c.current.classList.add("active")}function i(){c.current.classList.remove("active")}function o(){c.current.classList.contains("active")?c.current.classList.remove("active"):c.current.classList.add("active")}return Object(a.useEffect)((function(){t&&(t.current={open:r,close:i,toggle:o})}),[]),Object(D.jsx)(Nn,{ref:c,children:e})})),Nn=j.c.div(gn||(gn=Object(b.a)(["\n  max-height: 0px;\n  width: 100%;\n  overflow: hidden;\n  transition: max-height .3s ease;\n\n  &.active { \n    max-height: 50vh;\n  }\n"]))),In=Rn,Pn=j.c.button(mn||(mn=Object(b.a)(["\n  border: 0;\n  border-radius: 50%;\n  width: 60px;\n  height: 60px;\n  background-image: ",";\n  box-shadow: 2px 4px 10px hsl(200, 5%, 5%, .5);\n  svg {\n    color: hsl(200, 5%, 90%, 1);\n    filter: drop-shadow(2px 4px 3px hsl(200, 50%, 30%, .5));\n  }\n  &:active {\n    background-image: linear-gradient(45deg, hsl(210, 40%, 20%) 0%, hsl(190, 40%, 40%) 100%);\n  }\n  &:disabled {\n    opacity: 0.5;\n  }\n"])),f.primary),En={playerVars:{autoplay:0,playsinline:1,fs:0}},Kn=Object(a.forwardRef)((function(n,t){var e=n.id,c=n.onReady,r=void 0===c?null:c,i=Object(Cn.a)(n,["id","onReady"]),o=Object(a.useState)(null),s=Object(u.a)(o,2),l=s[0],d=s[1];return Object(a.useEffect)((function(){t&&(t.current=l)}),[l]),Object(D.jsx)(Fn,Object(Tn.a)(Object(Tn.a)({},i),{},{children:Object(D.jsx)(B.a,{className:"player",videoId:e,opts:En,onReady:function(n){d(n.target);var t={title:n.target.getVideoData().title,duration:n.target.getDuration()};r&&r(t)}})}))})),Fn=j.c.div(vn||(vn=Object(b.a)(["\n  position: relative;\n  width: 100%;\n  height: 0;\n  padding-bottom: 56.25%;\n  .player {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    iframe {\n      width: 100% !important;\n      height: 100% !important;\n    }\n  }\n\n"]))),Bn=Kn,Ln=[],Vn=0;Vn<5;Vn++)Ln.push(Object(j.d)(yn||(yn=Object(b.a)(["\n    from { transform: scaleY(","); background: hsla(210, 80%, 70%, 1);}\n    to { transform: scaleY(1); background: hsla(190, 100%, 60%, 1);}\n  "])),Math.random()/2));for(var Mn=[],Yn=0;Yn<5;Yn++)Mn.push(Object(j.d)(wn||(wn=Object(b.a)(["\n    from { transform: scaleY(","); background: ",";}\n    to { transform: scaleY(0.33); background: ",";}\n  "])),Math.random()/2,p.primary,p.primary));var Hn,Jn,Wn,_n,An,Un=j.c.div(kn||(kn=Object(b.a)(["\n  span {\n    display: inline-block;\n    vertical-align: middle;\n    margin: 0 1px;\n    margin-top: -2px;\n    width: 1px;\n    height: 10px;\n    ","\n"])),(function(n){return(n.play?Ln:Mn).map((function(n,t){return Object(j.b)(zn||(zn=Object(b.a)([" &:nth-child(",") {\n          animation: "," ","s linear infinite alternate;\n        }"])),t+1,n,.3+.3*Math.random())}))})),Gn=function(n){var t=n.status,e=Object(Cn.a)(n,["status"]);return Object(D.jsxs)(Un,Object(Tn.a)(Object(Tn.a)({play:t},e),{},{children:[Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{}),Object(D.jsx)("span",{})]}))},Xn=j.c.div(Hn||(Hn=Object(b.a)(["\n  display: block;\n  border: 0;\n  padding: 6px 0;\n  background: transparent;\n  white-space: nowrap;\n  overflow: hidden;\n  > .icon, > .title {\n    display: inline-block;\n    vertical-align: middle;\n  }\n  > .icon {\n    width: 22px;\n    margin-right: 6px;\n  }\n  > .title {\n    width: calc(100% - 28px);\n  }\n"]))),qn=j.c.p(Jn||(Jn=Object(b.a)(["\n  ","\n  font-size: 13px;\n  font-weight: 600;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),""),Qn=function(n){var t=n.title,e=n.status,c=n.onClick,r=Object(Cn.a)(n,["title","status","onClick"]);return Object(D.jsxs)(Xn,Object(Tn.a)(Object(Tn.a)({onClick:c},r),{},{children:[Object(D.jsx)(Gn,{status:e,className:"icon"}),Object(D.jsx)(qn,{className:"title",children:t})]}))},Zn=e(97),$n=e(98),nt=Object(a.forwardRef)((function(n,t){var e=n.player,c=n.onProgress,r=Object(a.useRef)(null),i=Object(a.useRef)(null),o=Object(a.useRef)();function s(){var n=setInterval((function(){d(e.getCurrentTime()/e.getDuration()),e.getCurrentTime()/e.getDuration()>=.99&&l()}),300);o.current=n,setTimeout((function(){return c()}),300)}function l(){clearInterval(o.current)}function d(n){var t=Math.min(Math.max(n,0),1);r.current.style.width="".concat(100*t,"%")}return Object(a.useEffect)((function(){t&&e&&(t.current={sync:s,deSync:l})}),[t,e]),Object(D.jsxs)(tt,{children:[Object(D.jsx)(ct,{onClick:function(){e.seekTo(e.getCurrentTime()-e.getDuration()/30),setTimeout((function(){return c()}),300)},children:Object(D.jsx)(Zn.a,{size:"18"})}),Object(D.jsx)(et,{onTouchStart:function(){l()},onTouchMove:function(n){var t=n.currentTarget.getBoundingClientRect(),e=t.x,c=t.width,r=n.touches[0].clientX;i.current=(r-e)/c,d((r-e)/c)},onTouchEnd:function(){e.seekTo(i.current*e.getDuration()),s()},children:Object(D.jsx)("div",{ref:r,className:"bar"})}),Object(D.jsx)(ct,{onClick:function(){e.seekTo(e.getCurrentTime()+e.getDuration()/30),setTimeout((function(){return c()}),300)},children:Object(D.jsx)($n.a,{size:"18"})})]})})),tt=j.c.div(Wn||(Wn=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: stretch;\n  padding: 6px 0;\n  width: 100%;\n"]))),et=j.c.div(_n||(_n=Object(b.a)(["\n  display: block;\n  width: calc(100% - 76px);\n  background: ",";\n  box-sizing: border-box;\n  .bar {\n    width: 0;\n    height: 100%;\n    background: ",";\n  }\n"])),p.black.light,p.primary),ct=j.c.button(An||(An=Object(b.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0;\n  padding: 6px 6px;\n  width: 30px;\n  border-radius: 3px;\n  color: ",";\n  background: ",";\n  z-index: 2;\n  p {\n    transform: scale(0.65);\n    font-size: 14px;\n  }\n"])),p.white.normal,p.black.light),rt=nt,at=e(15),it=new Date;function ot(n){localStorage.setItem("wordLibrary",JSON.stringify(n))}var st=window.localStorage.getItem("wordLibrary")||null;(st=st?JSON.parse(st):[]).forEach((function(n){return n.timestamp=new Date(n.timestamp)}));var lt,dt,ut,bt,jt,pt,ft,ht,Ot,xt,gt,mt,vt,yt,wt,kt,zt,Tt,Ct,St,Dt,Rt,Nt,It,Pt=Object(m.a)({name:"wordLibrary",initialState:{libraryData:st,currentData:[]},reducers:{updateItemToCurrentData:function(n,t){var e=t.payload,c=Object(at.a)(n.currentData),r=c.findIndex((function(n){return n.content===e.content&&n.origin===e.origin}));c.splice(r,1,e),n.currentData=c},addItemToCurrentData:function(n,t){var e=t.payload,c=Object(at.a)(n.currentData);c.push(e),n.currentData=c},removeItemFromCurrentData:function(n,t){var e=t.payload,c=Object(at.a)(n.currentData),r=c.findIndex((function(n){return n.content===e.content&&n.origin===e.origin}));c.splice(r,1),n.currentData=c},archiveCurrentDataToLibrary:function(n){!function(n,t){var e=Object(at.a)(n.libraryData),c=e.findIndex((function(n){return n.timestamp===it})),r={timestamp:it,words:t};-1!==c?t.forEach((function(n){return e[c].words.push(n)})):e.push(r),n.libraryData=e,ot(e)}(n,Object(at.a)(n.currentData))},clearCurrentData:function(n){n.currentData=[]},updateLibraryData:function(n,t){n.libraryData=t.payload,ot(t.payload)}}}),Et=e(99),Kt=j.c.li(lt||(lt=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  & + li {\n    margin-top: 12px;\n  }\n"]))),Ft=j.c.button(dt||(dt=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-right: 12px;\n  border: 2px solid ",";\n  border-radius: 50%;\n  padding: 0;\n  width: 22px;\n  height: 22px;\n  background: transparent;\n  color: ",";\n"])),p.middle,p.white.normal),Bt=j.c.div(ut||(ut=Object(b.a)(["\n  width: calc(100% - 36px);\n"]))),Lt=Object(j.c)(Dn)(bt||(bt=Object(b.a)(["\n  margin-left: -1px;\n  margin-right: -1px;\n  color: ",";\n"])),p.pureWhite),Vt=function(n){var t,e=n.data,c=n.onReplayClick,r=n.onWordClick,a=Object(Cn.a)(n,["data","onReplayClick","onWordClick"]);function i(n){var t=n.event,c=n.active,a=t.currentTarget.dataset.word;r({word:a,status:c?"add":"remove",origin:e.content})}return Object(D.jsxs)(Kt,Object(Tn.a)(Object(Tn.a)({},a),{},{children:[Object(D.jsx)(Ft,{"data-sec":e.start,onClick:c,children:Object(D.jsx)(Et.a,{size:14})}),Object(D.jsx)(Bt,{children:(t=e.content,t.split(/(\s+)(\w+)/g).map((function(n){return n.match(/\w+/)?{type:"button",content:n}:n}))).map((function(n,t){return"button"===n.type?Object(D.jsx)(Lt,{"data-word":n.content,onClick:i,children:n.content},t):Object(D.jsx)("span",{children:n},t)}))})]}))},Mt=Object(a.forwardRef)((function(n,t){var e=n.captions,c=n.status,r=n.onReplayClick,i=Object(a.useState)([]),o=Object(u.a)(i,2),s=o[0],d=o[1],b=Object(a.useRef)(null);function j(n){var t,c=function(n){var t;return e.forEach((function(e){var c=Number(e.start),r=c+Number(e.dur);if(n>c)t={start:c,end:r,content:e.content,spot:n,timestamp:new Date};else if(n>r)return})),t}(n),r=Object(at.a)(b.current);c&&(null===c||void 0===c?void 0:c.content)!==(null===(t=r[r.length-1])||void 0===t?void 0:t.content)&&(r.push(c),d(r))}function p(n){var t=n.status,e=n.word,c=n.origin;"add"===t?function(n,t){var e={origin:t,content:n,timestamp:new Date};f(Pt.actions.addItemToCurrentData(e))}(e,c):"remove"===t&&function(n,t){var e={origin:t,content:n};f(Pt.actions.removeItemFromCurrentData(e))}(e,c)}Object(a.useEffect)((function(){t&&(t.current={addItemBySec:j})}),[]),Object(a.useEffect)((function(){b&&(b.current=s)}),[s]);var f=Object(l.b)(Pt);return Object(D.jsxs)(Yt,{children:[0===s.length&&Object(D.jsxs)(Ht,{children:["clickToReplay"===c&&Object(D.jsx)("span",{children:"Press \u21ba to replay again \ud83e\udd14"}),"clickToSave"===c&&Object(D.jsxs)("span",{children:["Great! Press ",Object(D.jsx)("img",{src:"/images/icon-add.svg",alt:""})," to add first sentence \ud83c\udf89"]}),"clickToPlay"===c&&Object(D.jsxs)("span",{children:["Hi! Press ",Object(D.jsx)("img",{src:"/images/icon-play.svg",alt:""})," to start your listening \ud83d\udc4d"]})]}),Object(D.jsx)(Jt,{children:null===s||void 0===s?void 0:s.map((function(n,t){return Object(D.jsx)(Vt,{onReplayClick:r,onWordClick:p,data:n},t)}))})]})})),Yt=j.c.div(jt||(jt=Object(b.a)(["\n  border-radius: 4px;\n  padding: 16px 12px;\n  background: ",";\n  box-sizing: border-box;\n  \n"])),p.black.light),Ht=j.c.div(pt||(pt=Object(b.a)(["\n  span, img {\n    display: inline-block;\n    vertical-align: middle;\n  }\n  img {\n    margin-bottom: 2px;\n  }\n"]))),Jt=j.c.ul(ft||(ft=Object(b.a)(["\n  \n"]))),Wt=Mt,_t=e(100),At=e(101),Ut=e(102),Gt=e(103),Xt=e(104),qt=j.c.div(ht||(ht=Object(b.a)(["\n  background: ",";\n"])),p.black.normal),Qt=j.c.div(Ot||(Ot=Object(b.a)(["\n  padding: 16px;\n  padding-top: 48px;\n  height: 100vh;\n  max-width: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n  color: ",";\n  ","\n"])),p.white.normal,(function(n){return n.hide&&Object(j.b)(xt||(xt=Object(b.a)(["\n    position: fixed;\n    opacity: 0;\n    z-index: -1;\n  "])))})),Zt=j.c.div(gt||(gt=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  padding: 0 16px;\n  padding-top: 12px;\n  background: ",";\n  box-shadow: 0px 4px 4px ",";\n  box-sizing: border-box;\n  z-index: 2;\n"])),p.black.normal,p.black.dark),$t=j.c.div(mt||(mt=Object(b.a)(["\n  margin-bottom: 12px;\n"]))),ne=j.c.div(vt||(vt=Object(b.a)(["\n  position: relative;\n"]))),te=j.c.div(yt||(yt=Object(b.a)(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n"]))),ee=j.c.div(wt||(wt=Object(b.a)(["\n  position: relative;\n  padding-bottom: 120px;\n"]))),ce=j.c.div(kt||(kt=Object(b.a)(["\n  display: flex;\n  position: fixed;\n  bottom: 120px;\n  left: 0;\n  width: 100%;\n  height: 0;\n  max-width: 100%;\n  z-index: 2;\n"]))),re=Object(j.d)(zt||(zt=Object(b.a)(["\n  from { transform: rotate(0deg) }\n  to { transform: rotate(360deg) }\n"]))),ae=Object(j.d)(Tt||(Tt=Object(b.a)(["\n  0% { transform: scale(1) }\n  30% { transform: scale(0.9) }\n  80% { transform: scale(0.9) }\n  90% { transform: scale(1.1) }\n  100% { transform: scale(1.1) }\n"]))),ie=Object(j.c)(Pn)(Ct||(Ct=Object(b.a)(["\n  margin: 0 auto;\n  &:disabled svg {\n    animation: "," 3s linear;\n  }\n  ","\n"])),re,(function(n){return"clickToPlay"===n.status&&Object(j.b)(St||(St=Object(b.a)(["\n    animation: "," 1s ease infinite;\n  "])),ae)})),oe=Object(j.c)(Dn)(Dt||(Dt=Object(b.a)(["\n  margin-right: 4px;\n  padding: 2px 4px;\n  color: ",";\n"])),p.white.normal),se=function(n){var t=n.hide,e=void 0!==t&&t,c=n.id,r=Object(a.useRef)(null),i=Object(a.useRef)(null),o=Object(a.useRef)(null),s=Object(a.useRef)(null),l=Object(a.useRef)(null),d=Object(a.useRef)(null),b=Object(a.useRef)(null),j=Object(a.useState)(!1),p=Object(u.a)(j,2),f=p[0],h=p[1],O=Object(a.useState)(!1),x=Object(u.a)(O,2),g=x[0],m=x[1],v=Object(a.useState)(!1),y=Object(u.a)(v,2),w=y[0],k=y[1],z=Object(a.useState)(null),T=Object(u.a)(z,2),C=T[0],S=T[1],R=function(n){var t=Object(a.useState)(null),e=Object(u.a)(t,2),c=e[0],r=e[1];return Object(a.useEffect)((function(){Object(dn.a)(ln.a.mark((function t(){var e,c,a,i,o;return ln.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,pn(n);case 3:if(e=t.sent,c=un(e),!(a=c!==[]?c[0]:null)){t.next=12;break}return t.next=9,jn(n,a);case 9:i=t.sent,o=bn(i),r(o);case 12:t.next=16;break;case 14:t.prev=14,t.t0=t.catch(0);case 16:case"end":return t.stop()}}),t,null,[[0,14]])})))()}),[]),c}(c);Object(a.useEffect)((function(){s.current&&!e&&(s.current.getCurrentTime()/s.current.getDuration()>=.99&&m(!0))}),[s,e]),Object(a.useEffect)((function(){d.current&&(e?d.current.deSync():d.current.sync())}),[e]);var N=Object(a.useMemo)((function(){var n;return!e&&f&&(n="clickToSave"),e&&f&&(n="clickToPause"),e||f||(n="clickToPlay"),e&&!f&&(n="clickToPlay"),!f&&g&&(n="clickToReplay"),n}),[e,f,g]);function I(){s.current.playVideo(),e||d.current.sync(),h(!0)}function P(){s.current.pauseVideo(),d.current.deSync(),h(!1)}function E(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"play";if(clearTimeout(b.current),"play"===n){var t=s.current.getDuration()-s.current.getCurrentTime();b.current=setTimeout((function(){h(!1),m(!0)}),1e3*t)}}return Object(a.useEffect)((function(){E(f?"play":"stop")}),[f]),Object(D.jsxs)(qt,{children:[Object(D.jsxs)(Qt,{ref:o,hide:e,children:[Object(D.jsxs)(Zt,{children:[Object(D.jsx)(Qn,{status:f,title:null===C||void 0===C?void 0:C.title,onClick:function(){i.current.toggle()}}),Object(D.jsx)(oe,{onClick:function(){r.current.toggle()},children:Object(D.jsx)(_t.a,{size:"16"})})]}),Object(D.jsx)(ne,{children:Object(D.jsxs)(In,{ref:r,children:[Object(D.jsx)(te,{onClick:P}),Object(D.jsx)(Bn,{className:"player",ref:s,onReady:function(n){S(n),R&&k(!0)},id:c})]})}),Object(D.jsx)($t,{children:Object(D.jsx)(In,{ref:i,children:Object(D.jsx)(rt,{ref:d,player:s.current,onProgress:E})})}),!w&&Object(D.jsx)("div",{children:"prepare the caption."}),w&&Object(D.jsx)(D.Fragment,{children:Object(D.jsx)(ee,{children:Object(D.jsx)(Wt,{status:N,captions:R,ref:l,onReplayClick:function(n){var t=n.currentTarget.dataset.sec;s.current.seekTo(t)}})})})]}),Object(D.jsx)(ce,{children:Object(D.jsxs)(ie,{status:N,disabled:!w,onClick:function(){switch(N){case"clickToPlay":I();break;case"clickToReplay":!function(){s.current.playVideo(),e||d.current.sync();m(!1),h(!0)}();break;case"clickToPause":P();break;case"clickToSave":!function(){var n=s.current.getCurrentTime();l.current.addItemBySec(n),o.current.scrollHeight-o.current.offsetHeight===o.current.scrollTop&&setTimeout((function(){return o.current.scrollTop=9999}),300)}();break;default:I()}},children:[!w&&Object(D.jsx)(At.a,{size:"24"}),w&&"clickToPlay"===N&&Object(D.jsx)(Et.a,{size:"24"}),w&&"clickToReplay"===N&&Object(D.jsx)(Ut.a,{size:"24"}),w&&"clickToSave"===N&&Object(D.jsx)(Gt.a,{size:"24"}),w&&"clickToPause"===N&&Object(D.jsx)(Xt.a,{size:"24"})]})})]})},le=e(105),de=j.c.div(Rt||(Rt=Object(b.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  height: 100vh;\n  border: 0;\n  svg {\n    margin-top: -120px;\n    color: ",";\n  }\n"])),p.gray.normal),ue=j.c.p(Nt||(Nt=Object(b.a)(["\n  color: ",";\n  font-size: 13px;\n  font-weight: 600;\n  overflow: hidden;\n  text-overflow: ellipsis;\n"])),p.gray.normal),be=function(n){var t=Object.assign({},n);return Object(D.jsxs)(de,Object(Tn.a)(Object(Tn.a)({},t),{},{children:[Object(D.jsx)(le.a,{size:72}),Object(D.jsx)(ue,{children:"Oops! there is nothing for listening."})]}))},je=j.c.div(It||(It=Object(b.a)(["\n  \n"]))),pe=function(n){var t=n.currentPage,e=Object(l.c)((function(n){return n.videoData})).id;return Object(D.jsxs)(je,{children:[!e&&"player"===t&&Object(D.jsx)(be,{}),e&&Object(D.jsx)(se,{hide:"player"!==t,id:e})]})};var fe=window.localStorage.getItem("videoHistory")||null;fe=fe?JSON.parse(fe):[];var he,Oe,xe,ge,me,ve,ye,we,ke,ze,Te,Ce,Se,De,Re,Ne,Ie,Pe=Object(m.a)({name:"videoData",initialState:{id:null,history:fe,search:null},reducers:{clearVideoId:function(n){n.id=null},updateVideoId:function(n,t){n.id=t.payload},updateVideoHistory:function(n,t){var e;n.history=t.payload,e=t.payload,localStorage.setItem("videoHistory",JSON.stringify(e))},updateSearchResult:function(n,t){n.search=t.payload}}}),Ee=e(47),Ke=e.n(Ee),Fe=e(106),Be=j.c.div(he||(he=Object(b.a)(["\n  position: relative;\n  padding: 24px;\n  padding-top: 32px;\n  padding-bottom: 72px;\n  width: 100%;\n  background: ",";\n  box-sizing: border-box;\n"])),p.black.light),Le=j.c.div(Oe||(Oe=Object(b.a)(["\n  position: relative;\n"]))),Ve=j.c.div(xe||(xe=Object(b.a)(["\n  position: absolute;\n  top: calc(100% + 12px);\n  width: 100%;\n  text-align: center;\n  > p {\n    position: relative;\n    display: inline-block;\n    border-radius: 4px;\n    padding: 6px 12px 8px;\n    color: ",";\n    background: ",';\n    &:before {\n      content: "";\n      position: absolute;\n      bottom: 99%;\n      left: 50%;\n      width: 0;\n      height: 0; \n      border-bottom: 6px solid ',";\n      border-left: 8px solid transparent;\n      border-right: 8px solid transparent;\n      transform: translateX(-50%);\n    }\n\n  }\n"])),p.white.normal,p.primary,p.primary),Me=j.c.input(ge||(ge=Object(b.a)(["\n  width: 100%;\n  border: 0;\n  padding: 12px;\n  background: ",";\n  color: ",";\n  box-sizing: border-box;\n"])),p.black.dark,p.white.normal),Ye=j.c.div(me||(me=Object(b.a)(["\n  position: absolute;\n  top: 100%;\n  left: 0;\n  width: 100%;\n  transform: scale(0.5);\n  transition: transform .3s cubic-bezier(.59,.01,.59,2.04);\n  ","\n"])),(function(n){return n.active&&Object(j.b)(ve||(ve=Object(b.a)(["\n    transform: scale(1);\n  "])))})),He=Object(j.c)(Pn)(ye||(ye=Object(b.a)(["\n  position: absolute;\n  left: 50%;\n  top: 100%;\n  transform: translate(-50%, -50%);\n"]))),Je=function(n){var t=n.onResult,e=Object(a.useRef)(null),c=Object(l.c)((function(n){return n.configData})).youtubeKey,r=Object(a.useState)(null),i=Object(u.a)(r,2),o=i[0],s=i[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),j=b[0],p=b[1];function f(n){var t=!1;return-1!==n.indexOf("https://")&&(t=!0),-1!==n.indexOf("http://")&&(t=!0),t}function h(){return(h=Object(dn.a)(ln.a.mark((function n(){var c,r,a;return ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!f(c=e.current.value)){n.next=6;break}r=g(c),t([r]),n.next=10;break;case 6:return n.next=8,O(c);case 8:a=n.sent,t(a);case 10:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function O(n){return x.apply(this,arguments)}function x(){return(x=Object(dn.a)(ln.a.mark((function n(t){var e;return ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e=t.replace(/\s/,"+"),n.abrupt("return",new Promise((function(n){Ke.a.get("https://www.googleapis.com/youtube/v3/search?q=".concat(e,"&key=").concat(c,"&maxResults=10")).then((function(t){m(t.data.items).then((function(t){return n(t)})),s(null)})).catch((function(n){return s("Oops\uff01\u8acb\u6aa2\u67e5 Youtube Key \u662f\u5426\u6b63\u78ba")}))})));case 2:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function g(n){var t=n.split("v=")[1]||n.split("youtu.be/")[1],e=t.indexOf("&");return-1!=e&&(t=t.substring(0,e)),t}function m(n){var t=[],e=0;return new Promise((function(c){n.forEach((function(r){var a;fn(null===r||void 0===r||null===(a=r.id)||void 0===a?void 0:a.videoId).then((function(a){e+=1,a&&t.push(r.id.videoId),e===n.length&&c(t)}))}))}))}return Object(D.jsxs)(Be,{children:[Object(D.jsxs)(Le,{children:[Object(D.jsx)(Me,{ref:e,onChange:function(){var n,t=e.current.value;f(t)?function(n){if(0===n.length)p(!1),s(null);else{var t=n.split("v=")[1]||n.split("youtu.be/")[1]||null;if(t&&t.length>=11){var e=t.indexOf("&");-1!=e&&(t=t.substring(0,e)),fn(t).then((function(n){!1===n?(s("Oops! \u9019\u652f\u5f71\u7247\u6c92\u6709\u63d0\u4f9b\u53ef\u7528\u5b57\u5e55 \ud83d\ude13"),p(!1)):(s(null),p(!0))}))}else s("Hmm... \u8acb\u8f38\u5165\u6b63\u78ba\u7684\u5f71\u7247\u7db2\u5740 \ud83d\ude2e"),p(!1)}}(t):(n=t,s(null),c?(n&&!1===j&&p(!0),""===n&&!0===j&&p(!1)):s("Oops\uff01\u8acb\u6aa2\u67e5 Youtube Key \u662f\u5426\u6b63\u78ba"))},type:"text",placeholder:"\u8cbc\u4e0a Youtube \u5f71\u7247\u7db2\u5740\u6216\u8f38\u5165\u95dc\u9375\u5b57"}),o&&Object(D.jsx)(Ve,{children:Object(D.jsx)("p",{children:o})})]}),Object(D.jsx)(Ye,{active:j,children:Object(D.jsx)(He,{disabled:!j,onClick:function(){return h.apply(this,arguments)},children:Object(D.jsx)(Fe.a,{size:"24"})})})]})},We=e(48),_e=e.n(We),Ae=function(n){var t=Object(a.useRef)(null),e=Object(a.useState)(null),c=Object(u.a)(e,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){var e=document.createElement("div");return e.id=n,e.style.display="none",document.body.append(e),_e.a.load((function(e){var c=new e.Player(n,{videoId:n,events:{onReady:function(t){return function(t){i(Object(Tn.a)(Object(Tn.a)({},t.target.getVideoData()),{},{cover:"https://img.youtube.com/vi/".concat(n,"/0.jpg")}))}(t)}}});t.current=c})),function(){return i(null)}}),[]),Object(a.useEffect)((function(){if(r){t.current.destroy();var e=document.getElementById(n);document.body.removeChild(e)}}),[r]),r},Ue=j.c.div(we||(we=Object(b.a)(["\n  display: flex;\n  align-items: center;\n  height: 90px;\n  img {\n    display: block;\n    max-width: 120px;\n    width: 50%;\n    height: auto;\n  }\n  .title {\n    margin-left: 12px;\n    color: ",";\n  }\n"])),p.white.normal),Ge=Object(j.d)(ke||(ke=Object(b.a)(["\n  from { transform: rotate(0deg) }\n  to { transform: rotate(360deg) }\n"]))),Xe=j.c.div(ze||(ze=Object(b.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 90px;\n  svg {\n    color: ",";\n    animation: "," 3s linear;\n  }\n"])),p.white.normal,Ge),qe=function(n){var t=n.id,e=n.onClick,c=Object(Cn.a)(n,["id","onClick"]),r=Ae(t);return Object(D.jsx)(D.Fragment,{children:r?Object(D.jsxs)(Ue,Object(Tn.a)(Object(Tn.a)({},c),{},{onClick:function(){e(t)},children:[Object(D.jsx)("img",{src:r.cover,alt:""}),Object(D.jsx)("div",{className:"title",children:r.title})]})):Object(D.jsx)(Xe,{children:Object(D.jsx)(At.a,{size:24})})})},Qe=j.c.div(Te||(Te=Object(b.a)(["\n  position: relative;\n  padding: 16px;\n  padding-top: 0;\n  padding-bottom: 120px;\n  height: 100vh;\n  max-width: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n"]))),Ze=j.c.div(Ce||(Ce=Object(b.a)(["\n  margin: 0 -16px;\n"]))),$e=j.c.div(Se||(Se=Object(b.a)(["\n  padding-top: 48px;\n"]))),nc=j.c.div(De||(De=Object(b.a)(["\n  padding-top: 48px;\n"]))),tc=j.c.ul(Re||(Re=Object(b.a)(["\n  display: flex;\n  flex-direction: column-reverse;\n  li + li {\n    margin-bottom: 12px\n  }\n"]))),ec=j.c.div(Ne||(Ne=Object(b.a)(["\n  margin-bottom: 12px;\n  color: ",";\n  font-size: 18px;\n"])),p.white.normal),cc=j.c.div(Ie||(Ie=Object(b.a)(["\n  margin-bottom: 12px;\n  color: ",";\n  font-size: 14px;\n"])),p.gray.normal),rc=function(n){var t,e,c=n.currentPage,r=n.onIdReady,a=Object(l.b)(Pe),i=Object(l.c)((function(n){return n.videoData})),o=i.id,s=i.history,d=i.search;function u(n){o===n?r():(a(Pe.actions.clearVideoId()),setTimeout((function(){a(Pe.actions.updateVideoId(n)),r()}),300)),function(n){var t=Object(at.a)(s);if(-1===t.findIndex((function(t){return t===n}))){t.push(n);var e=t.slice(t.length-4,t.length);a(Pe.actions.updateVideoHistory(e))}}(n)}return Object(D.jsx)(D.Fragment,{children:"home"===c&&Object(D.jsxs)(Qe,{children:[Object(D.jsx)(Ze,{children:Object(D.jsx)(Je,{onResult:function(n){a(Pe.actions.updateSearchResult(n))}})}),d&&Object(D.jsxs)(nc,{children:[Object(D.jsx)(ec,{children:"\u641c\u5c0b\u7d50\u679c"}),0===d.length&&Object(D.jsxs)(cc,{children:["\u627e\u4e0d\u5230\u5f71\u7247\uff0c\u8acb\u5617\u8a66\u5176\u4ed6\u95dc\u9375\u5b57\u3002",Object(D.jsx)("br",{}),"\u6216\u76f4\u63a5\u8cbc\u4e0a\u5f71\u7247\u9023\u7d50\u3002"]}),Object(D.jsx)(tc,{children:null===d||void 0===d?void 0:d.map((function(n,t){return Object(D.jsx)("li",{children:Object(D.jsx)(qe,{id:n,onClick:u})},t)}))})]},d),s&&0!==s.length&&Object(D.jsxs)($e,{children:[Object(D.jsx)(ec,{children:"\u89c0\u770b\u7d00\u9304"}),Object(D.jsx)(tc,{children:null===(e=s,t=Object(at.a)(e).reverse())||void 0===t?void 0:t.map((function(n,t){return Object(D.jsx)("li",{children:Object(D.jsx)(qe,{id:n,onClick:u})},t)}))})]})]})})};function ac(n,t){return new Promise((function(e,c){fetch("https://api.cognitive.microsofttranslator.com/translate?api-version=3.0&to=zh-TW",{headers:{"Ocp-Apim-Subscription-Key":n,"content-type":"application/json"},method:"POST",body:"[{'Text': '".concat(t,"'}]")}).then((function(n){e(n.json())})).catch(c)}))}var ic,oc,sc,lc,dc,uc,bc,jc,pc,fc,hc,Oc,xc,gc,mc,vc,yc,wc,kc,zc,Tc,Cc,Sc,Dc,Rc,Nc,Ic,Pc,Ec,Kc,Fc,Bc,Lc,Vc,Mc,Yc,Hc,Jc,Wc,_c,Ac=e(107),Uc=e(108),Gc=j.c.div(ic||(ic=Object(b.a)(["\n  display: flex;\n  margin-bottom: 12px;\n"]))),Xc=j.c.p(oc||(oc=Object(b.a)(["\n  display: block;\n  min-width: 35%;\n"]))),qc=j.c.button(sc||(sc=Object(b.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0;\n  padding: 0 6px;\n  border-radius: 2px;\n  margin-left: 6px;\n  color: ",";\n  background: ",";\n  z-index: 3;\n"])),p.white.normal,p.primary),Qc=Object(j.c)(qc)(lc||(lc=Object(b.a)(["\n  background: ",";\n  ","\n"])),p.black.normal,(function(n){return n.check&&Object(j.b)(dc||(dc=Object(b.a)(["\n    background: ",";\n  "])),p.black.normal)})),Zc=j.c.div(uc||(uc=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n"]))),$c=j.c.input(bc||(bc=Object(b.a)(["\n  position: relative;\n  border: 0;\n  border-radius: 0;\n  border-bottom: 1px solid ",";\n  padding: 2px 4px;\n  background: transparent;\n  z-index: 0;\n  color: ",";\n  &:focus {\n    outline: none;\n  }\n  ","\n"])),p.gray.normal,p.white.normal,(function(n){return n.active&&Object(j.b)(jc||(jc=Object(b.a)(["\n    background: ",";\n    color: ",";\n    z-index: 3;\n  "])),p.white.normal,p.black.normal)})),nr=function(n){var t=n.advance,e=void 0!==t&&t,c=n.data,r=n.onUpdate,i=Object(a.useRef)(null),o=Object(l.c)((function(n){return n.configData})).translatorKey,s=Object(a.useState)(!1),d=Object(u.a)(s,2),b=d[0],j=d[1],p=Object(a.useState)(!1),f=Object(u.a)(p,2),h=f[0],O=f[1],x=Object(a.useState)(!1),g=Object(u.a)(x,2),m=g[0],v=g[1];function y(){j(!1);var n=i.current.value,t=Object(Tn.a)(Object(Tn.a)({},c),{},{note:n});r(t)}return Object(D.jsxs)(Gc,{children:[Object(D.jsx)(Xc,{children:c.content}),Object(D.jsx)($c,{active:b,ref:i,type:"text",onFocus:function(){j(!0),v(!1)},defaultValue:c.note}),b&&Object(D.jsx)(qc,{disabled:m,"data-word":c.content,onClick:function(n){var t=n.currentTarget.dataset.word;v(!0),Object(dn.a)(ln.a.mark((function n(){var e;return ln.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ac(o,t);case 3:e=n.sent,i.current.value=e[0].translations[0].text,v(!1),j(!1),y(),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),alert("translate false");case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},children:"\u4e2d"}),e&&!b&&Object(D.jsxs)(Qc,{disabled:h,check:h,onClick:function(){O(!0);var n=i.current.value,t=Object(Tn.a)(Object(Tn.a)({},c),{},{note:n,check:!0});setTimeout((function(){return r(t)}),1e3)},children:[!h&&Object(D.jsx)(Ac.a,{size:"16"}),h&&Object(D.jsx)(Uc.a,{size:"16"})]}),b&&Object(D.jsx)(Zc,{onClick:y})]})},tr=e(109),er=j.c.div(pc||(pc=Object(b.a)(["\n  padding-top: 40px;\n  padding-bottom: 120px;\n"]))),cr=j.c.div(fc||(fc=Object(b.a)(["\n  position: relative;\n  padding: 24px 12px;\n  padding-top: 36px;\n  background: ",";\n  overflow: hidden;\n  box-sizing: border-box;\n  transition: transform .3s cubic-bezier(.56,-0.93,.39,.99) .5s;\n  ","\n"])),p.black.light,(function(n){return n.save&&Object(j.b)(hc||(hc=Object(b.a)(["\n    transform: scale(0);\n  "])))})),rr=j.c.button(Oc||(Oc=Object(b.a)(["\n  position: absolute;\n  top: 4px;\n  right: 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0;\n  padding: 8px 8px;\n  border-radius: 2px;\n  width: 30px;\n  height: 30px;\n  color: ",";\n  background: ",";\n  transition: all 1s ease;\n  &:disabled {\n    background: ",";\n  }\n"])),p.white.normal,p.black.normal,p.black.light),ar=j.c.ul(xc||(xc=Object(b.a)(["\n\n"]))),ir=j.c.li(gc||(gc=Object(b.a)(["\n\n"]))),or=function(){var n=Object(a.useState)(!1),t=Object(u.a)(n,2),e=t[0],c=t[1],r=Object(l.c)((function(n){return n.wordLibrary})).currentData,i=Object(a.useMemo)((function(){return r}),[r]),o=Object(l.b)(Pt);function s(n){o(Pt.actions.updateItemToCurrentData(n))}return Object(D.jsx)(er,{children:0!==(null===i||void 0===i?void 0:i.length)&&Object(D.jsxs)(cr,{save:e,children:[Object(D.jsx)(rr,{disabled:e,onClick:function(){c(!0),o(Pt.actions.archiveCurrentDataToLibrary()),setTimeout((function(){o(Pt.actions.clearCurrentData())}),1e3)},children:e?Object(D.jsx)(Ac.a,{size:"14"}):Object(D.jsx)(tr.a,{size:"14"})}),Object(D.jsx)(ar,{children:null===i||void 0===i?void 0:i.map((function(n,t){return Object(D.jsx)(ir,{children:Object(D.jsx)(nr,{data:n,onUpdate:s})},t)}))})]})})},sr=j.c.div(mc||(mc=Object(b.a)(["\n  padding: 0 36px;\n  padding-top: 40px;\n  padding-bottom: 160px;\n  height: 100%;\n  overflow-y: auto;\n  background: ",";\n  box-sizing: border-box;\n"])),p.black.light),lr=j.c.div(vc||(vc=Object(b.a)(["\n  margin-bottom: 24px;\n  font-size: 14px;\n  font-weight: 600;\n"]))),dr=j.c.div(yc||(yc=Object(b.a)(["\n"]))),ur=j.c.ul(wc||(wc=Object(b.a)(["\n\n"]))),br=j.c.li(kc||(kc=Object(b.a)(["\n\n"]))),jr=function(){var n=Object(l.c)((function(n){return n.wordLibrary})).libraryData,t=Object(a.useMemo)((function(){return n}),[n]),e=Object(l.b)(Pt);return Object(D.jsxs)(sr,{children:[Object(D.jsx)(lr,{children:"My Vocabulary"}),Object(D.jsx)(dr,{children:Object(D.jsx)(ur,{children:null===t||void 0===t?void 0:t.map((function(n,c){return Object(D.jsx)(br,{children:n.words.map((function(n,r){return!n.check&&Object(D.jsx)(nr,{data:n,advance:!0,onUpdate:function(n){return function(n,c,r){var a=JSON.parse(JSON.stringify(t));a[n].words[c]=r,e(Pt.actions.updateLibraryData(a))}(c,r,n)}},r)}))},c)}))})})]})},pr=e(110),fr=j.c.div(zc||(zc=Object(b.a)(["\n  position: relative;\n  padding: 16px;\n  padding-top: 36px;\n  height: 100vh;\n  max-width: 100%;\n  box-sizing: border-box;\n  color: ",";\n  background: ",";\n  overflow: hidden;\n"])),p.white.normal,p.black.normal),hr=j.c.div(Tc||(Tc=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  padding: 0 16px;\n  padding-top: 12px;\n  background: ",";\n  box-shadow: 0px 4px 4px ",";\n  box-sizing: border-box;\n  z-index: 2;\n  p {\n    padding: 6px 0;\n  }\n"])),p.black.normal,p.black.dark),Or=j.c.div(Cc||(Cc=Object(b.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  padding-top: 40px;\n  padding-bottom: 120px;\n  transform: translateX(100%);\n  transition: all .3s ease;\n  overflow-y: auto;\n  ","\n  z-index: 1;\n"])),(function(n){return n.open&&Object(j.b)(Sc||(Sc=Object(b.a)([" transform: translateX(0%);"])))})),xr=Object(j.c)(Dn)(Dc||(Dc=Object(b.a)(["\n  margin-right: 4px;\n  padding: 2px 4px;\n  color: ",";\n"])),p.white.normal),gr=function(n){var t=n.currentPage,e=Object(a.useState)(!1),c=Object(u.a)(e,2),r=c[0],i=c[1];return Object(a.useEffect)((function(){"book"!==t&&i(!1)}),[t]),Object(D.jsx)(D.Fragment,{children:"book"===t&&Object(D.jsxs)(fr,{children:[Object(D.jsxs)(hr,{children:[Object(D.jsx)("p",{children:"Notebook"}),Object(D.jsx)(xr,{onClick:function(n){i(n.active)},children:Object(D.jsx)(pr.a,{size:"18"})})]}),Object(D.jsx)(or,{}),Object(D.jsx)(Or,{open:r,children:Object(D.jsx)(jr,{open:r})})]})})},mr=j.c.div(Rc||(Rc=Object(b.a)(["\n"]))),vr=j.c.div(Nc||(Nc=Object(b.a)(["\n  font-weight: 600;\n  margin-bottom: 8px;\n  font-size: 12px;\n  color: ",";\n"])),p.white.normal),yr=j.c.div(Ic||(Ic=Object(b.a)(["\n  display: flex;\n  margin-bottom: 12px;\n"]))),wr=j.c.button(Pc||(Pc=Object(b.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  border: 0;\n  padding: 0 6px;\n  border-radius: 2px;\n  margin-left: 6px;\n  color: ",";\n  background: ",";\n  z-index: 3;\n"])),p.white.normal,p.primary),kr=Object(j.c)(wr)(Ec||(Ec=Object(b.a)(["\n  background: ",";\n"])),p.primary),zr=j.c.div(Kc||(Kc=Object(b.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 2;\n"]))),Tr=j.c.input(Fc||(Fc=Object(b.a)(["\n  position: relative;\n  border: 0;\n  border-radius: 0;\n  ","\n  ","\n  padding: 2px 4px;\n  background: transparent;\n  width: 85%;\n  z-index: 0;\n  color: ",";\n  &:focus {\n    outline: none;\n  }\n  ","\n"])),(function(n){return"bottom"===n.frame&&Object(j.b)(Bc||(Bc=Object(b.a)(["\n    border-bottom: 1px solid ",";\n  "])),p.gray.normal)}),(function(n){return"full"===n.frame&&Object(j.b)(Lc||(Lc=Object(b.a)(["\n    border: 1px solid ",";\n  "])),p.gray.normal)}),p.white.normal,(function(n){return n.active&&Object(j.b)(Vc||(Vc=Object(b.a)(["\n    background: ",";\n    color: ",";\n    z-index: 3;\n  "])),p.white.normal,p.black.normal)})),Cr=function(n){var t=n.label,e=n.value,c=n.type,r=void 0===c?"text":c,i=n.frame,o=void 0===i?"bottom":i,s=n.onUpdate,l=Object(a.useRef)(null),d=Object(a.useState)(!1),b=Object(u.a)(d,2),j=b[0],p=b[1];function f(){p(!1);var n=l.current.value;s(n)}return Object(D.jsxs)(mr,{children:[Object(D.jsx)(vr,{children:t}),Object(D.jsxs)(yr,{children:[Object(D.jsx)(Tr,{frame:o,active:j,ref:l,type:r,onFocus:function(){p(!0)},defaultValue:e}),j&&Object(D.jsx)(kr,{onClick:f,children:Object(D.jsx)(Ac.a,{size:"16"})}),j&&Object(D.jsx)(zr,{onClick:f})]})]})},Sr=j.c.div(Mc||(Mc=Object(b.a)(["\n  position: relative;\n  padding: 16px;\n  height: 100vh;\n  max-width: 100%;\n  overflow-y: auto;\n  box-sizing: border-box;\n"]))),Dr=j.c.div(Yc||(Yc=Object(b.a)(["\n  margin-bottom: 48px;\n  color: ",";\n"])),p.white.normal),Rr=j.c.ul(Hc||(Hc=Object(b.a)(["\n  > li {\n    margin-bottom: 24px;\n  }\n"]))),Nr=function(n){var t=n.currentPage,e=Object(l.c)((function(n){return n.configData})),c=e.translatorKey,r=e.youtubeKey,a=Object(l.b)(S);return Object(D.jsx)(D.Fragment,{children:"config"===t&&Object(D.jsxs)(Sr,{children:[Object(D.jsx)(Dr,{children:"Config"}),Object(D.jsxs)(Rr,{children:[Object(D.jsx)("li",{children:Object(D.jsx)(Cr,{type:"password",frame:"full",label:"Translator Key",onUpdate:function(n){a(S.actions.updateTranslatorKey(n))},value:c})}),Object(D.jsx)("li",{children:Object(D.jsx)(Cr,{type:"password",frame:"full",label:"Youtube Key",onUpdate:function(n){a(S.actions.updateYoutubeKey(n))},value:r})})]})]})})},Ir=e(111),Pr=e(112),Er=e(113);var Kr=j.c.div(Jc||(Jc=Object(b.a)(["\n  display: flex;\n  justify-content: space-between;\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  padding: 12px 20px;\n  width: 100vw;\n  height: 90px;\n  background: ",";\n  box-sizing: border-box;\n  z-index: 1;\n  > .left, > .right {\n    display: flex;\n    align-items: flex-start;\n    justify-content: space-between;\n    width: 35%\n  }\n"])),p.black.light),Fr=j.c.button(Wc||(Wc=Object(b.a)(["\n  background: transparent;\n  border: 0;\n  color: ",";\n  ","\n"])),p.gray.normal,(function(n){return n.active&&Object(j.b)(_c||(_c=Object(b.a)(["color: ",";"])),p.white.normal)})),Br=function(n){var t=n.currentPage,e=n.onButtonClick,c=function(n){var t=n.currentTarget.dataset.current;e(t)};return Object(D.jsxs)(Kr,{children:[Object(D.jsxs)("div",{className:"left",children:[Object(D.jsx)(Fr,{active:"home"===t,"data-current":"home",onClick:c,children:Object(D.jsx)(Ir.a,{size:"32"})}),Object(D.jsx)(Fr,{active:"player"===t,"data-current":"player",onClick:c,children:Object(D.jsx)(Pr.a,{size:"32"})})]}),Object(D.jsxs)("div",{className:"right",children:[Object(D.jsx)(Fr,{active:"book"===t,"data-current":"book",onClick:c,children:Object(D.jsx)(pr.a,{size:"32"})}),Object(D.jsx)(Fr,{active:"config"===t,"data-current":"config",onClick:c,children:Object(D.jsx)(Er.a,{size:"32"})})]})]})};var Lr=function(){var n=Object(a.useState)("home"),t=Object(u.a)(n,2),e=t[0],c=t[1];return Object(D.jsxs)("div",{className:"App",children:[Object(D.jsx)(O,{}),Object(D.jsx)(R,{}),Object(D.jsx)(F,{}),Object(D.jsx)(an,{}),Object(D.jsxs)(on,{children:[Object(D.jsx)(rc,{currentPage:e,onIdReady:function(){c("player")}}),Object(D.jsx)(pe,{currentPage:e}),Object(D.jsx)(gr,{currentPage:e}),Object(D.jsx)(Nr,{currentPage:e})]}),Object(D.jsx)(Br,{currentPage:e,onButtonClick:function(n){c(n)}})]})},Vr=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,114)).then((function(t){var e=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,i=t.getTTFB;e(n),c(n),r(n),a(n),i(n)}))},Mr=Object(d.b)({wordLibrary:Pt.reducer,videoData:Pe.reducer,configData:S.reducer,guideStatus:q.reducer}),Yr=Object(d.d)(Mr);s.a.render(Object(D.jsx)(i.a.StrictMode,{children:Object(D.jsx)(l.a,{store:Yr,children:Object(D.jsx)(Lr,{})})}),document.getElementById("root")),Vr()}},[[93,1,2]]]);
//# sourceMappingURL=main.09e0d351.chunk.js.map